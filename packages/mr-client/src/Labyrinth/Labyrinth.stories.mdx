import { Physics } from '@react-three/cannon'
import { OrbitControls } from '@react-three/drei'
import { Canvas } from '@react-three/fiber'
import { Meta, Story, Preview, Props } from '@storybook/addon-docs'
import { Suspense } from 'react'
import Lighting from '../Lighting/Lighting'
import Floor from '../Floor/Floor'
import Labyrinth from './Labyrinth'

<Meta title='Labyrinth' />

# Labyrinth

This is the basic labyrinth component. Drag and drop to navigate and have a look at it. The associated physics for the labyrinth are detached from the visual 3D part.

## Colliders

The labyrinth is composed of a number of colliders. The colliders are used to detect collisions between the player and the labyrinth. There is a TypeScript file called `labyrinthColliderArray.ts` that defines the array of colliders. This array is mapped inside the `Colliders.tsx` sub-component.

```jsx
export default function Colliders(): JSX.Element {
  const labyrinthColliders = labyrinthColliderArray.map(labyrinthCollider => (
    <Collider
      key={labyrinthCollider.id}
      size={labyrinthCollider.size}
      position={labyrinthCollider.position}
      scale={labyrinthCollider.scale}
      rotation={labyrinthCollider.rotation}
      color={labyrinthCollider.color}
    ></Collider>
  ))

  return <>{labyrinthColliders}</>
}
```

<Preview>
  <Story name='Labyrinth'>
    <Canvas
      style={{ height: '100vh', backgroundColor: 'black' }}
      camera={{ position: [5, 10, 5] }}
    >
      <Suspense fallback={null}>
        <Physics>
          <Labyrinth />
          <Floor />
        </Physics>
      </Suspense>
      <Lighting />
      <OrbitControls />
    </Canvas>
  </Story>
</Preview>

## Props

<Props of={Labyrinth} />
